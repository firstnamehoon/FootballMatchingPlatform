<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kosta.project.repository.TeamsMapper">
	<select id="selectTeamSeq" resultType="java.lang.Integer" parameterType="java.lang.String">
		SELECT team_seq as teamSeq FROM teams 
		WHERE leader_id = #{userId};
	</select>
	<select id="selectTeamMemberCount" resultType="java.lang.Integer" parameterType="java.lang.String">
		SELECT COUNT(member_seq) FROM team_members 
		WHERE team_seq = (SELECT team_seq FROM teams WHERE team_name = (SELECT team_name FROM teams WHERE leader_id = #{userId}))
		AND team_member_status = 0;
	</select>
	<select id="selectTeamMemberIds" resultType="String" parameterType="java.lang.String">
		SELECT user_id as userId FROM team_members
		WHERE team_seq = (SELECT team_seq FROM teams 
		WHERE team_name = (SELECT team_name FROM teams WHERE leader_id = #{userId}))
		AND team_member_status = 0;
	</select>
</mapper>