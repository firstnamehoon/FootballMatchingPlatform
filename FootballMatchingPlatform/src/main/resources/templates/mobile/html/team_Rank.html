<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <link rel="stylesheet" href="mobile/css/common.css" />
  <link rel="stylesheet" href="mobile/css/team.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

</head>

<body>
  <!-- 모바일 컨테이너 -->
  <div id="mobile-container">
    <!-- 헤더 -->

    <header></header>
    <!-- 컨텐츠 컨테이너 -->
    <div id="container">

      <div class="d-flex gap-2 justify-content-between p-2 pt-2 m-2 mb-0">
        <div class="btnBox" id="allTeamRank">
          <button type="button" class="selectBtn p-2 btnClick">전체 팀 순위</button>
        </div>
        <div class="btnBox" id="possJoin">
          <button type="button" class="selectBtn p-2">가입 가능 팀</button>
        </div>
        <div class="btnBox" id="joinList">
          <button type="button" class="selectBtn p-2">가입 신청 목록</button>
        </div>
        <div class="btnBox" id="myTeamInfo">
          <button type="button" class="selectBtn p-2">내 팀 정보</button>
        </div>

      </div>

      <div id="sessionId" th:text="${session.loginUser.userId}" style="display:none"></div>


      <div id="searchBox">
        <div class="d-flex align-items-center justify-content-center m-2" id="">
          <div id="filter-container" data-bs-toggle="modal" data-bs-target="#filterModal">
            <img id="filter" src="/mobile/img/filter.svg">
            <div id="filter-text">필터</div>
          </div>
          <div id="search-container" class="ms-2">
            <input id="search-keyword" class="rounded-5 p-1 ps-2 pe-2" placeholder="검색어를 입력하세요">
            <img id="search" src="/mobile/img/search.svg">
          </div>
        </div>
        <div id="btnValue" style="display:none">1</div>
      </div>



      <div class="d-flex flex-column gap-2 w-100 p-2" id="dataBox">
      </div>

      <div class="d-flex flex-column align-items-center gap-2 w-100 ps-3 pe-3" id="dataBox2">
      </div>

      <!-- 팀생성 -->
      <div id="createTeamBox" class="d-none">
        <div id="createTeam" class="d-flex justify-content-center">
          <button class="btn rounded-5 p-2 ps-4 pe-4" id="addTeam">팀 생성하기</button>
        </div>
      </div>


    </div>

    <!-- 팀 나가기 모달 -->
    <div class="modal" id="setStatus" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content align-items-center">
          <div class="modal-body mt-4">
            <p>팀을 나가시겠습니까?</p>
          </div>
          <div class="modal-footer justify-content-center border-top-0">
            <button type="button" class="btn btn-success" id="updateMemberStatus">나가기</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 가입 신청 모달 -->
    <div class="modal" id="addApplyModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content align-items-center">
          <div class="modal-header border-bottom-0 m-2">
            <h1 class="modal-title fs-5" id="teamModalTitle"></h1>
          </div>
          <div class="modal-body">
            <p>가입신청 하시겠습니까?</p>
          </div>
          <div class="modal-footer justify-content-center border-top-0">
            <button type="button" class="btn btn-success" id="addTeamApply">신청하기</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 가입신청 취소 모달 -->
    <div class="modal" id="cancelModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content align-items-center">
          <div class="modal-header border-bottom-0 m-2">
            <h1 class="modal-title fs-5" id="teamModalTitle2"></h1>
          </div>
          <div class="modal-body">
            <p>가입 신청을 취소 하시겠습니까?</p>
          </div>
          <div class="modal-footer justify-content-center border-top-0">
            <button type="button" class="btn btn-success" id="cancelApply">취소하기</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 팀 해체하기 모달 -->
    <div class="modal" id="deleteTeamModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content align-items-center">

          <div class="modal-body mt-4">
            <p>팀을 해체 하시겠습니까?</p>
          </div>
          <div class="modal-footer justify-content-center border-top-0">
            <button type="button" class="btn btn-success" data-bs-dismiss="modal" id="deleteTeam">해체하기</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" aria-label="Close"
              id="cancel">취소</button>
          </div>
        </div>
      </div>
    </div>

    <div id="tost_message" class="text-center"></div>


    <!-- 팀 정보 모달 -->
    <div class="modal" id = "teamInfoModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header border-bottom-0 pb-0">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body d-flex flex-wrap justify-content-center flex-column align-items-center gap-3 mb-3">
            <div class="w-100 text-center fs-3" id="teamTitleModal"></div>
            <div class="d-flex gap-5">
              <div class="d-flex flex-column align-items-center">
                <div class="fs-4">개인 등급</div>
                <div class="d-flex gap-1">
                  <div>A</div>
                  <div>0명</div>
                </div>
                <div class="d-flex gap-1">
                  <div>B</div>
                  <div>2명</div>
                </div>
                <div class="d-flex gap-1">
                  <div>C</div>
                  <div>2명</div>
                </div>
                <div class="d-flex gap-1">
                  <div>D</div>
                  <div>1명</div>
                </div>
              </div>
              <div class="d-flex flex-column">
                <div class="d-flex gap-1">
                  <div>랭킹</div>
                  <div id="info-rank">1위</div>
                </div>
                <div class="d-flex gap-1">
                  <div>등급</div>
                  <div id="info-tier">A등급</div>
                </div>
                <div class="d-flex gap-1">
                  <div>점수</div>
                  <div id="info-score">820점</div>
                </div>
                <div class="d-flex gap-1">
                  <div>전적</div>
                  <div id="info-count">50전 50승</div>
                </div>
                <div class="d-flex gap-1">
                  <div>승률</div>
                  <div id="info-odds">100%</div>
                </div>
              </div>
            </div>

            <div id="text-box" class="w-100">
              <p id="info-content">
                gdgddgdgdgdgdgdgdgdgdgdgddgdgdgdgdsssssssssssssssssssssssssssssssssgdgdgdgdgdgddgdgdgdgdgdgdgdgdgdgddgdgdgdgdgdgdgdgdgdgddgdgdgdgdgdgdgdgd
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 필터 모달 -->
    <div class="modal" id="filterModal">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">

          <div class="modal-header border-bottom-0 pb-0">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>

          <div class="modal-body">
            <h3>지역</h3>
            <div class="w-auto h-auto locationCity">
              <ul id="locationCityBtns">
                <li><button type="button" class=" locationCityBtn btn m-2" onclick="change_btn(event)"
                    value="서울">서울</button></li>
                <li><button type="button" class=" locationCityBtn btn m-2" onclick="change_btn(event)"
                    value="인천">인천</button></li>
                <li><button type="button" class=" locationCityBtn btn m-2" onclick="change_btn(event)"
                    value="부산">부산</button></li>
              </ul>
            </div>
            <hr>
            <div id="locationInfoDiv" class="overflow-y-auto overflow-x-auto w-auto h-auto timeZone mt-5">
              <ul id="locationBtns">
                <li><button type="button" id="locationBtn" class="w-3 h-2 btn m-1 p-2"
                    onclick="changeButtonColors(this)">중구</button></li>
                <li><button type="button" id="locationBtn1" class="w-3 h-2 btn m-1 p-2"
                    onclick="changeButtonColors(this)">서구</button></li>
                <li><button type="button" id="locationBtn2" class="w-3 h-2 btn m-1 p-2"
                    onclick="changeButtonColors(this)">동구</button></li>
                <li><button type="button" id="locationBtn3" class="w-3 h-2 btn m-1 p-2"
                    onclick="changeButtonColors(this)">남동구</button></li>
                <li><button type="button" id="locationBtn4" class="w-3 h-2 btn m-1 p-2"
                    onclick="changeButtonColors(this)">영등포구</button></li>
                <li><button type="button" id="locationBtn5" class="w-3 h-2 btn m-1 p-2"
                    onclick="changeButtonColors(this)">강남구</button></li>
                <li><button type="button" id="locationBtn6" class="w-3 h-2 btn m-1 p-2"
                    onclick="changeButtonColors(this)">금천구</button></li>
              </ul>
            </div>
          </div>

          <div class="modal-footer justify-content-center border-top-0">
            <button type="button" class="btn btn-success" data-bs-dismiss="modal" id="filterBtn">완료</button>
          </div>

        </div>
      </div>
    </div>

    <!-- 하단 메뉴바 -->
    <nav></nav>
  </div>

  <script>
    // header, nav 내용 불러오기
    $(document).ready(function () {
      $("header").load("./common/header.html", function () {
        // 뒤로가기 필요한 페이지는 header_back, 아닌 페이지는 header 사용해주세욤
        $("#page-name").text("팀"); // 해당 페이지 이름 넣어주세욤 ex) 마이페이지
        $("#user-tier").text("B"); // 나중에 세션에서 usertier 구해서 넣기
      });
      $("nav").load("./common/nav.html");
    });
  </script>
  <script src="/mobile/js/team.js"></script>
</body>

</html>