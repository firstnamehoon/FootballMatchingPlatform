<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mypage</title>
    <link rel="stylesheet" href="mobile/css/common.css">
    <link rel="stylesheet" href="mobile/css/mypage/edit-info.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<body>
    <!-- 모바일 컨테이너 -->
    <div id="mobile-container">
        <!-- 헤더 -->
        <header></header>
         <!-- 컨텐츠 컨테이너 -->
        <div id="container">
            <div id="edit-wrapper">
                <div class="check-content-wrapper">
                    <div class="input-title">
                        <span id="text-pw">비밀번호 수정</span>
                        <div class="edit-pw-notice" id="edit-pw-notice-1">비밀번호는 영문 대소문자, 숫자, 특수문자를 6자 이상 포함해야 합니다.</div>
                    </div>
                    <input type="password" id="new-pw" class="input-pw"/>
                </div>
                <div class="check-content-wrapper">
                    <div class="input-title">
                        <span id="text-pw-check">비밀번호 확인</span>
                        <div class="edit-pw-notice" id="edit-pw-notice-2">비밀번호가 일치하지 않습니다.</div>
						<div class="edit-pw-notice" id="edit-pw-notice-3">비밀번호가 일치합니다.</div>
                    </div>
                    <input type="password" id="new-pw-check" class="input-pw"/>
                </div>
                <button id="edit-pw-edit-btn" class="btn">수정하기</button>
            </div>
        </div>
        <!-- 하단 메뉴바 -->
         <nav></nav>
    </div>
    
    
    <script>
    // header, nav 내용 불러오기
    $(document).ready(function(){
        $('header').load('common/header_mypage_back.html', function(){
            $('#page-name').text('내 정보 수정');
        });
        $('nav').load('common/nav.html');
    });
	
	const getPwCheck = RegExp(/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{6,}$/);
	
	$("#new-pw").on("change", function(){
		const pw = $("#new-pw").val();
		if(pw != ""){
			if(!getPwCheck.test(pw)){
				$("#text-pw").css("margin-right","3rem");
				$("#edit-pw-notice-1").css("display", "block");
			}
			else{
				$("#text-pw").css("margin-right","18rem");
				$("#edit-pw-notice-1").css("display", "none");
			}
		}
		else{
			$("#text-pw").css("margin-right","18rem");
			$("#edit-pw-notice-1").css("display", "none");
		}
	})
	
	//비밀번호 일치여부 검사
	$("#new-pw-check").on("keyup", function () {
		if ($("#new-pw-check").val() != "") {
			if($(this).val() != $("#new-pw").val()) {
				$("#text-pw-check").css("margin-right", "3.5rem");
				$("#edit-pw-notice-2").css("display", "block");
				$("#edit-pw-notice-3").css("display", "none");
			}
			else {
				$("#text-pw-check").css("margin-right", "6.35rem");
				$("#edit-pw-notice-2").css("display", "none");
				$("#edit-pw-notice-3").css("display", "block");
			}
		}
		else {
			$("#text-pw-check").css("margin-right", "15.5rem");
			$("#edit-pw-notice-3").css("display", "none");
			$("#edit-pw-notice-2").css("display", "none");
		}
		
	})
    </script>
    <script src="mobile/js/mypage.js"></script>
</body>
</html>