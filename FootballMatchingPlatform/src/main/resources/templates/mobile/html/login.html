<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en">
  <head>
    <script
      src="https://code.jquery.com/jquery-3.7.1.js"
      integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="mobile/css/login.css" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>로그인</title>
  </head>

  <body>
    <div class="flex-column-center" id="container">
      <form id="loginForm">
        <div class="text" id="text-id">아이디</div>
        <input id="id" />
        <div class="text" id="text-pw">비밀번호</div>
        <input type="password" id="pw" />
        <button>로그인</button>
      </form>
      <div class="flex-center" id="or-container">
        <hr />
        <span id="or">or</span>
        <hr />
      </div>
      <div class="flex-center" id="logo-container">
        <div class="flex-center" id="logo">
          <img src="mobile/img/google.png" />
        </div>
      </div>
      <div class="flex-column-center">
        <div id="join"><a href="/join">회원가입</a></div>
        <div id="find"><a href="findIDPW">아이디/비밀번호 찾기</a></div>
      </div>
    </div>
  </body>
  <script>
    $("form").submit(function (e) {
      e.preventDefault();
      const form = document.getElementById("loginForm");

      if (!form.id.value || !form.pw.value) {
        alert("아이디와 비밀번호 모두 입력해 주세요");
        form.text - id.focus();
        return false;
      }

      $.ajax({
        url: "/user/login",
        type: "POST",
        dataType: "json",
        data: {
          userId: form.id.value,
          password: form.pw.value,
        },
        async: false,
        success: function (response) {
          location.href = "/mainPage";
        },
        error: function (request, status, error) {
          alert("아이디와 비밀번호를 확인해주세요");
        },
      });
    });

    $("#join").on("click", function () {});

    $("#find").on("click", function () {});
  </script>
</html>
